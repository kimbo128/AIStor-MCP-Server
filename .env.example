# AIStor MCP Server Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env with real credentials to GitHub!

# ============================================
# CORE MINIO/AISTOR CONNECTION SETTINGS
# ============================================

# MinIO Server Endpoint (without http/https prefix)
MINIO_ENDPOINT=your-minio-endpoint.com

# Authentication Credentials
MINIO_ACCESS_KEY=your-access-key-here
MINIO_SECRET_KEY=your-secret-key-here

# Connection Security
MINIO_USE_SSL=true

# ============================================
# MCP SERVER PERMISSION LEVELS
# ============================================

# Enable write operations (create buckets, upload objects)
ALLOW_WRITE=false

# Enable delete operations (delete objects, buckets)
ALLOW_DELETE=false

# Enable admin operations (cluster info, usage stats)
ALLOW_ADMIN=false

# ============================================
# LOCAL FILE SYSTEM ACCESS
# ============================================

# Comma-separated list of allowed local directories
ALLOWED_DIRECTORIES=/tmp,/home/user/downloads

# Maximum number of objects to list in bucket operations
MAX_KEYS=1000

# ============================================
# SERVER CONFIGURATION
# ============================================

# Runtime environment
NODE_ENV=development

# Server port (for HTTP transport mode)
PORT=3000

# ============================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT SETUPS
# ============================================

# -------------------------------------------
# 1. RAILWAY PRODUCTION DEPLOYMENT
# -------------------------------------------
# MINIO_ENDPOINT=your-railway-project.railway.app
# MINIO_ACCESS_KEY=your-railway-access-key
# MINIO_SECRET_KEY=your-railway-secret-key
# MINIO_USE_SSL=true
# ALLOW_WRITE=true
# ALLOW_DELETE=true
# ALLOW_ADMIN=true
# ALLOWED_DIRECTORIES=/tmp,/app
# NODE_ENV=production
# PORT=3000

# -------------------------------------------
# 2. LOCAL DEVELOPMENT WITH DOCKER MINIO
# -------------------------------------------
# MINIO_ENDPOINT=localhost:9000
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin
# MINIO_USE_SSL=false
# ALLOW_WRITE=true
# ALLOW_DELETE=true
# ALLOW_ADMIN=true
# ALLOWED_DIRECTORIES=/Users/your-username/downloads,/tmp
# NODE_ENV=development

# -------------------------------------------
# 3. MINIO PLAYGROUND (TESTING ONLY)
# -------------------------------------------
# MINIO_ENDPOINT=play.min.io
# MINIO_ACCESS_KEY=Q3AM3UQ867SPQQA43P2F
# MINIO_SECRET_KEY=zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG
# MINIO_USE_SSL=true
# ALLOW_WRITE=false
# ALLOW_DELETE=false
# ALLOW_ADMIN=false
# Note: Playground is public - don't store sensitive data!

# -------------------------------------------
# 4. ENTERPRISE MINIO DEPLOYMENT
# -------------------------------------------
# MINIO_ENDPOINT=minio.yourcompany.com
# MINIO_ACCESS_KEY=your-enterprise-key
# MINIO_SECRET_KEY=your-enterprise-secret
# MINIO_USE_SSL=true
# ALLOW_WRITE=true
# ALLOW_DELETE=false
# ALLOW_ADMIN=true
# ALLOWED_DIRECTORIES=/data,/backups
# MAX_KEYS=5000

# -------------------------------------------
# 5. READ-ONLY SAFE MODE
# -------------------------------------------
# MINIO_ENDPOINT=your-endpoint.com
# MINIO_ACCESS_KEY=readonly-user-key
# MINIO_SECRET_KEY=readonly-user-secret
# MINIO_USE_SSL=true
# ALLOW_WRITE=false
# ALLOW_DELETE=false
# ALLOW_ADMIN=false
# ALLOWED_DIRECTORIES=/tmp
# MAX_KEYS=100

# ============================================
# CLAUDE DESKTOP INTEGRATION NOTES
# ============================================
# 
# For Claude Desktop, use the same environment values
# but configure them in your Claude config file:
#
# macOS: ~/Library/Application Support/Claude/claude_desktop_config.json
# Windows: %APPDATA%\Claude\claude_desktop_config.json
# Linux: ~/.config/Claude/claude_desktop_config.json
#
# Example Claude config:
# {
#   "mcpServers": {
#     "aistor": {
#       "command": "node",
#       "args": ["/path/to/server.js", "--allow-write", "--allow-admin"],
#       "env": {
#         "MINIO_ENDPOINT": "your-endpoint.com",
#         "MINIO_ACCESS_KEY": "your-key",
#         "MINIO_SECRET_KEY": "your-secret",
#         "MINIO_USE_SSL": "true"
#       }
#     }
#   }
# }

# ============================================
# SECURITY BEST PRACTICES
# ============================================
#
# 1. Never commit .env files to version control
# 2. Use least privilege principle for permissions
# 3. Rotate access keys regularly
# 4. Use SSL/TLS in production (MINIO_USE_SSL=true)
# 5. Restrict ALLOWED_DIRECTORIES to necessary paths only
# 6. Monitor admin operations in production
# 7. Use environment-specific configurations
# 8. Keep backup of production credentials securely

# ============================================
# TROUBLESHOOTING
# ============================================
#
# Connection Issues:
# - Verify MINIO_ENDPOINT is correct (no http/https prefix)
# - Check MINIO_USE_SSL matches your server setup
# - Ensure access keys have required permissions
#
# Permission Errors:
# - Check ALLOW_* flags match your intended operations
# - Verify ALLOWED_DIRECTORIES include your target paths
# - Confirm MinIO user has bucket/object permissions
#
# Performance:
# - Adjust MAX_KEYS for your context window limits
# - Use specific prefixes in bucket listings
# - Consider read-only mode for better performance
